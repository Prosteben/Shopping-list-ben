{"ast":null,"code":"import React,{useState}from'react';import DetailHeader from'../components/detail/DetailHeader';import AddItemForm from'../components/detail/AddItemForm';import ItemsList from'../components/detail/ItemsList';import EditListNameModal from'../components/shared/EditListNameModal';import ManageMembersModal from'../components/shared/ManageMembersModal';import{Filter}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DetailRoute(_ref){let{list,users,currentUserId,onBack,onAddItem,onToggleComplete,onDeleteItem,onArchive,onDelete,onEditName,onAddMember,onRemoveMember,onLeave}=_ref;const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[showEditNameModal,setShowEditNameModal]=useState(false);const[showManageMembersModal,setShowManageMembersModal]=useState(false);const[filter,setFilter]=useState('all');const isOwner=list.ownerId===currentUserId;const handleLeave=()=>{if(confirm(\"Are you sure you want to leave \\\"\".concat(list.title,\"\\\"?\"))){onLeave();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(DetailHeader,{title:list.title,isOwner:isOwner,onBack:onBack,onDelete:()=>setShowDeleteConfirm(true),onArchive:onArchive,onEditName:()=>setShowEditNameModal(true),onManageMembers:()=>setShowManageMembersModal(true),onLeave:handleLeave}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Members\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:list.members.length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Items\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:list.items.length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Completed\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[list.items.filter(i=>i.completed).length,\" / \",list.items.length]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(Filter,{size:20,className:\"text-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Filter Items:\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('all'),className:\"flex-1 py-2 px-4 rounded-lg transition-colors \".concat(filter==='all'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"Show All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('unresolved'),className:\"flex-1 py-2 px-4 rounded-lg transition-colors \".concat(filter==='unresolved'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"Unresolved Only\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('resolved'),className:\"flex-1 py-2 px-4 rounded-lg transition-colors \".concat(filter==='resolved'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"Resolved Only\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(AddItemForm,{onAddItem:onAddItem})}),/*#__PURE__*/_jsx(ItemsList,{items:list.items,filter:filter,onToggleComplete:onToggleComplete,onDeleteItem:onDeleteItem})]}),showDeleteConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Delete Shopping List?\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-6\",children:[\"Are you sure you want to delete \\\"\",list.title,\"\\\"? This action cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onDelete();setShowDeleteConfirm(false);},className:\"flex-1 bg-red-500 hover:bg-red-600 text-white p-3 rounded-lg transition-colors\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteConfirm(false),className:\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 p-3 rounded-lg transition-colors\",children:\"Cancel\"})]})]})}),showEditNameModal&&/*#__PURE__*/_jsx(EditListNameModal,{isOpen:showEditNameModal,currentName:list.title,onSave:newName=>{onEditName(newName);setShowEditNameModal(false);},onClose:()=>setShowEditNameModal(false)}),showManageMembersModal&&/*#__PURE__*/_jsx(ManageMembersModal,{isOpen:showManageMembersModal,list:list,users:users,currentUserId:currentUserId,onAddMember:onAddMember,onRemoveMember:onRemoveMember,onClose:()=>setShowManageMembersModal(false)})]});}","map":{"version":3,"names":["React","useState","DetailHeader","AddItemForm","ItemsList","EditListNameModal","ManageMembersModal","Filter","jsx","_jsx","jsxs","_jsxs","DetailRoute","_ref","list","users","currentUserId","onBack","onAddItem","onToggleComplete","onDeleteItem","onArchive","onDelete","onEditName","onAddMember","onRemoveMember","onLeave","showDeleteConfirm","setShowDeleteConfirm","showEditNameModal","setShowEditNameModal","showManageMembersModal","setShowManageMembersModal","filter","setFilter","isOwner","ownerId","handleLeave","confirm","concat","title","className","children","onManageMembers","members","length","items","i","completed","size","onClick","isOpen","currentName","onSave","newName","onClose"],"sources":["/Users/ben/Desktop/shoppList/shopping-list-app/src/routes/DetailRoute.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport DetailHeader from '../components/detail/DetailHeader';\nimport AddItemForm from '../components/detail/AddItemForm';\nimport ItemsList from '../components/detail/ItemsList';\nimport EditListNameModal from '../components/shared/EditListNameModal';\nimport ManageMembersModal from '../components/shared/ManageMembersModal';\nimport { Filter } from 'lucide-react';\n\nexport default function DetailRoute({ \n  list, \n  users,\n  currentUserId,\n  onBack, \n  onAddItem, \n  onToggleComplete, \n  onDeleteItem, \n  onArchive, \n  onDelete, \n  onEditName,\n  onAddMember,\n  onRemoveMember,\n  onLeave\n}) {\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [showEditNameModal, setShowEditNameModal] = useState(false);\n  const [showManageMembersModal, setShowManageMembersModal] = useState(false);\n  const [filter, setFilter] = useState('all');\n\n  const isOwner = list.ownerId === currentUserId;\n\n  const handleLeave = () => {\n    if (confirm(`Are you sure you want to leave \"${list.title}\"?`)) {\n      onLeave();\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <DetailHeader\n        title={list.title}\n        isOwner={isOwner}\n        onBack={onBack}\n        onDelete={() => setShowDeleteConfirm(true)}\n        onArchive={onArchive}\n        onEditName={() => setShowEditNameModal(true)}\n        onManageMembers={() => setShowManageMembersModal(true)}\n        onLeave={handleLeave}\n      />\n\n      <div className=\"max-w-4xl mx-auto p-6\">\n        <div className=\"bg-white p-4 rounded-lg shadow-md mb-6\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Members</p>\n              <p className=\"font-semibold\">{list.members.length}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Items</p>\n              <p className=\"font-semibold\">{list.items.length}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Completed</p>\n              <p className=\"font-semibold\">\n                {list.items.filter(i => i.completed).length} / {list.items.length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-4 rounded-lg shadow-md mb-6\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <Filter size={20} className=\"text-gray-600\" />\n            <span className=\"font-semibold\">Filter Items:</span>\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setFilter('all')}\n              className={`flex-1 py-2 px-4 rounded-lg transition-colors ${\n                filter === 'all' \n                  ? 'bg-blue-500 text-white' \n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              Show All\n            </button>\n            <button\n              onClick={() => setFilter('unresolved')}\n              className={`flex-1 py-2 px-4 rounded-lg transition-colors ${\n                filter === 'unresolved' \n                  ? 'bg-blue-500 text-white' \n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              Unresolved Only\n            </button>\n            <button\n              onClick={() => setFilter('resolved')}\n              className={`flex-1 py-2 px-4 rounded-lg transition-colors ${\n                filter === 'resolved' \n                  ? 'bg-blue-500 text-white' \n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              Resolved Only\n            </button>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <AddItemForm onAddItem={onAddItem} />\n        </div>\n\n        <ItemsList\n          items={list.items}\n          filter={filter}\n          onToggleComplete={onToggleComplete}\n          onDeleteItem={onDeleteItem}\n        />\n      </div>\n\n      {showDeleteConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h3 className=\"text-xl font-bold mb-4\">Delete Shopping List?</h3>\n            <p className=\"text-gray-600 mb-6\">\n              Are you sure you want to delete \"{list.title}\"? This action cannot be undone.\n            </p>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => {\n                  onDelete();\n                  setShowDeleteConfirm(false);\n                }}\n                className=\"flex-1 bg-red-500 hover:bg-red-600 text-white p-3 rounded-lg transition-colors\"\n              >\n                Delete\n              </button>\n              <button\n                onClick={() => setShowDeleteConfirm(false)}\n                className=\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 p-3 rounded-lg transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showEditNameModal && (\n        <EditListNameModal\n          isOpen={showEditNameModal}\n          currentName={list.title}\n          onSave={(newName) => {\n            onEditName(newName);\n            setShowEditNameModal(false);\n          }}\n          onClose={() => setShowEditNameModal(false)}\n        />\n      )}\n\n      {showManageMembersModal && (\n        <ManageMembersModal\n          isOpen={showManageMembersModal}\n          list={list}\n          users={users}\n          currentUserId={currentUserId}\n          onAddMember={onAddMember}\n          onRemoveMember={onRemoveMember}\n          onClose={() => setShowManageMembersModal(false)}\n        />\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}